@model InvestissementsPublics.Starter.Models.Privileges.PrivilegeDetailsVm
@{
    ViewData["Title"] = "Détails du privilège";
}

<h2>Détails</h2>

<div class="card mb-3">
    <div class="card-body">
        <h4 class="card-title">@Model.Name</h4>
        <p class="card-text">@Model.Description</p>
    </div>
</div>

<div class="mb-4">
    <h5>Rôles ayant ce privilège</h5>
    @if (Model.Roles == null || !Model.Roles.Any())
    {
        <p><em>Aucun rôle lié.</em></p>
    }
    else
    {
        <ul>
            @foreach (var r in Model.Roles)
            {
                <li>@r.RoleName</li>
            }
        </ul>
    }
</div>

<div class="mb-4">
    <h5>Utilisateurs avec attribution directe</h5>
    @if (Model.Users == null || !Model.Users.Any())
    {
        <p><em>Aucun utilisateur lié directement.</em></p>
    }
    else
    {
        <table class="table table-sm">
            <thead><tr><th>Utilisateur</th><th>Email</th></tr></thead>
            <tbody>
                @foreach (var u in Model.Users)
                {
                    <tr>
                        <td>@u.DisplayName</td>
                        <td>@u.Email</td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>

<p>
    <a class="btn btn-secondary" asp-action="Index">Retour</a>
    <a class="btn btn-outline-secondary" asp-action="Edit" asp-route-id="@Model.Id">Modifier</a>
    <a class="btn btn-danger" asp-action="Delete" asp-route-id="@Model.Id">Supprimer</a>
</p>

